10 April 2020

Changes made in 7.4-dev branch of the fork:
network_vis_controller.js collects quite a lot of data in $scope to
keep it between calls (maybe there's a better place? couldn't say):
- colorDicc and usedColors
- nextId (instead of i), to support cases where it refreshes while the
  network is still being constructed
- savedDataNodes: dictionary of nodes by our ID, so we can easily
  update colors when the node state changes
- nodesDataSet: visjs DataSet that's input to the network
  visualization
- savedNetwork: the network itself, also from visjs.
- colorOptions: new dictionary that installs a fixed seed for
  randomColor.

Color generation:
Added six (x 2) fields to the modules options display, allowing user
to match a label (in our case, the node state) to a color. This can be
partially specified, or not at all; during initialization,
network_vis_controller iterates through the fields, stopping at the
first one that's not set, and sets entries in the color dictionary and
set of used colors appropriately.

In addition, calls to randomColor alwyas pass an options object with
seed and count set. Because count is set, it increments the seed on
each call, and returns an array with a single color rather than just a
color. This is robust only in that the set of colors used will be the
same run-to-run, but there's no guarantee that they'll map to the same
state.

Incremental display:
Applies only for node-relation networks, because that's what we
use. If the network on entry is the same size, then we don't
reconstruct everything. Instead, nodes whose color or size have
changed are tracked; ultimately we push an update to the DataSet,
which causes the display to update.

TODO:
There is no way to identify a completely new network that needs

There are cases where the display ends up blank; when that happens,
refresh won't fix it. Not sure what causes the blanking. Ideally,
maybe the Refresh button would actually redraw, while time-based
refreshes would be incremental. Not sure Kibana supports that.
Would be nice to move into a new version of Kibana.
